<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - PPC System</title>
    <style>
        body {background:#f8f9fc; font-family:'Quicksand',sans-serif; color:#333;}
        .navbar {background:#fff; box-shadow:0 4px 12px rgba(0,0,0,0.04);}
        .nav-container {max-width:940px; margin:auto; display:flex; justify-content:space-between; align-items:center; padding:1rem 2rem;}
        .logo {font-size:1.7rem; font-weight:700; color:#3445ff;}
        .money-link {background:#ffd600; color:#333; padding:8px 18px; border-radius:50px; text-decoration:none; font-weight:700;}
        .container {max-width:940px; margin:auto; padding:2rem;}
        h1 {font-size:2.3rem; margin-bottom:.4rem;}
        h2 {margin-top:2.6rem; font-size:1.5rem;}
        .admin-section {background:#fff; border-radius:16px; margin-bottom:2rem; box-shadow:0 4px 12px rgba(0,0,0,0.04); padding:2rem;}
        .table-container {overflow-x:auto;}
        table {width:100%; border-collapse:collapse; margin-top:1.2rem;}
        th,td {border-bottom:1px solid #eee; padding:.55rem .8rem;}
        th {background:#f6f8fa;}
        tr:hover td {background:#eaf3ff;}
        .controls {margin:1.4rem 0 0 0; display:flex; gap:1rem; align-items:center;}
        input,select,button {padding:.55rem .9rem; font-size:1rem; border-radius:8px; border:1px solid #ddd;}
        button {background:#3445ff; color:#fff; border:none; font-weight:700; cursor:pointer;}
        button:hover {background:#5777ff;}
        .money-link:hover {background:#fff176;}
        #activityFeed {margin-top:1rem;}
        .feed-item {background:#f2f5ff; padding:.7rem 1rem; margin-bottom:.7rem; border-radius:10px;}
        @media(max-width:600px){
            .container,.admin-section {padding:1rem;}
            .nav-container {padding:0.8rem 1rem;}
            table th,table td {font-size:0.9rem;}
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">PPC System Admin</div>
            <a href="#" class="money-link">ðŸ’° à¸£à¸±à¸šà¹€à¸‡à¸´à¸™</a>
        </div>
    </nav>

    <main class="container">
        <h1>Admin Dashboard</h1>
        <p>Email: <strong>nontakorn.ppc@gmail.com</strong></p>
        
        <section class="admin-section">
            <h2>Member List (<span id="memberCountBadge">0</span> members)</h2>
            <div class="table-container">
                <table id="memberTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>à¸Šà¸·à¹ˆà¸­</th>
                            <th>à¸­à¸µà¹€à¸¡à¸¥</th>
                            <th>à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£</th>
                            <th>à¸ªà¸–à¸²à¸™à¸°</th>
                            <th>VIP</th>
                            <th>à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡</th>
                            <th>à¸¢à¸­à¸”à¸‚à¸²à¸¢</th>
                        </tr>
                    </thead>
                    <tbody id="memberTableBody"></tbody>
                </table>
            </div>
            
            <div class="controls">
                <input type="text" id="searchInput" placeholder="à¸„à¹‰à¸™à¸«à¸² à¸ªà¸¡à¸Šà¸²à¸¢...">
                <select id="filterVIP">
                    <option value="all">à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”</option>
                    <option value="vip">VIP Only</option>
                </select>
                <button onclick="exportCSV()">ðŸ“¥ Export CSV</button>
            </div>
        </section>
        
        <section class="admin-section">
            <h2>Commission Calculator</h2>
            <input type="number" id="memberCount" placeholder="à¸ˆà¸³à¸™à¸§à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸" value="4">
            <p>à¸„à¹ˆà¸²à¸„à¸¡à¸´à¸Šà¸Šà¸±à¹ˆà¸™: <strong id="commissionResult">0à¸¿</strong></p>
        </section>
        
        <section class="admin-section">
            <h2>Activity Feed (Real-time)</h2>
            <div id="activityFeed"></div>
        </section>
    </main>
    <script>
    // mock member data
    const members = [
        {id:1,name:"à¸ªà¸¡à¸Šà¸²à¸¢",email:"somchai@example.com",phone:"0811111111",status:"Active",vip:true,joined:"2024-02-12",sales:15500},
        {id:2,name:"à¸­à¸£à¸¸à¸“",email:"arun@gmail.com",phone:"0862222222",status:"Active",vip:false,joined:"2025-03-18",sales:7350},
        {id:3,name:"à¸§à¸£à¸£à¸“",email:"wann@example.com",phone:"0833333333",status:"Inactive",vip:false,joined:"2025-05-21",sales:0},
        {id:4,name:"à¸žà¸´à¸Šà¸±à¸¢",email:"pichai@love.com",phone:"0872223344",status:"Active",vip:true,joined:"2025-01-09",sales:23794}
    ];
    // table render
    function renderTable(list) {
        document.getElementById('memberTableBody').innerHTML = list.map(
            m => `<tr>
                    <td>${m.id}</td>
                    <td>${m.name}</td>
                    <td>${m.email}</td>
                    <td>${m.phone}</td>
                    <td>${m.status}</td>
                    <td>${m.vip ? 'âœ…' : '-'}</td>
                    <td>${m.joined}</td>
                    <td>${m.sales}à¸¿</td>
                  </tr>`
        ).join('');
        document.getElementById('memberCountBadge').textContent = list.length;
    }
    // controls
    let filtered = [...members];
    renderTable(filtered);
    document.getElementById('searchInput').oninput = function() {
        const term = this.value.trim();
        filtered = members.filter(m => m.name.includes(term) || m.email.includes(term) || m.phone.includes(term));
        const vipSel = document.getElementById('filterVIP').value;
        if(vipSel == "vip") filtered = filtered.filter(m => m.vip);
        renderTable(filtered);
    };
    document.getElementById('filterVIP').onchange = function() {
        const vipSel = this.value;
        filtered = members;
        if(vipSel == "vip") filtered = filtered.filter(m => m.vip);
        const term = document.getElementById('searchInput').value.trim();
        if(term) filtered = filtered.filter(m => m.name.includes(term) || m.email.includes(term) || m.phone.includes(term));
        renderTable(filtered);
    };

    // export CSV
    function exportCSV() {
        const rows = filtered.map(m => [m.id,m.name,m.email,m.phone,m.status,m.vip?"VIP":"-",m.joined,m.sales]);
        let csv = "ID,à¸Šà¸·à¹ˆà¸­,à¸­à¸µà¹€à¸¡à¸¥,à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£,à¸ªà¸–à¸²à¸™à¸°,VIP,à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡,à¸¢à¸­à¸”à¸‚à¸²à¸¢\n" + rows.map(r => r.join(",")).join("\n");
        const blob = new Blob([csv],{type:'text/csv'});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'members.csv';
        a.click();
    }

    // commission calc
    const commInput = document.getElementById('memberCount');
    const commResult = document.getElementById('commissionResult');
    function updateCommission() {
        const n = parseInt(commInput.value)||0;
        commResult.textContent = (n * 299).toLocaleString() + "à¸¿";
    }
    commInput.oninput = updateCommission;
    updateCommission();

    // activity feed
    const activities = [
        {time:"12:44",text:"à¸ªà¸¡à¸Šà¸²à¸¢ à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸à¹€à¸‚à¹‰à¸²à¸à¸²à¸à¹€à¸‡à¸´à¸™"},
        {time:"12:46",text:"à¸§à¸£à¸£à¸“ à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"},
        {time:"12:47",text:"à¸„à¸¸à¸“à¹„à¸”à¹‰à¸£à¸±à¸šà¸¢à¸­à¸”à¸‚à¸²à¸¢ 7350à¸¿ à¸ˆà¸²à¸ à¸­à¸£à¸¸à¸“"}
    ];
    document.getElementById('activityFeed').innerHTML = activities.map(
        a => `<div class="feed-item"><strong>${a.time}</strong> - ${a.text}</div>`
    ).join('');

    </script>
</body>
</html>
